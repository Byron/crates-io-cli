[package]
authors = ["Sebastian Thiel <byronimo@gmail.com>"]
description = "Interact with crates.io from the command-line"
keywords = ["crates", "index", "search", "diff", "cli"]
license = "MIT"
include = ["src/**/*", "Cargo.toml"]
name = "crates-io-cli"
repository = "https://github.com/Byron/crates-io-cli-rs"
readme = "README.md"
edition = "2018"
publish = false
version = "4.0.1-alpha"

[[bin]]
name = "crates"
path = "src/main.rs"

[features]
default = ["list", "recent-changes", "search"]
recent-changes = ["git2", "crates-index-diff", "parking_lot"]
list =   ["curl", "futures", "tokio-core", "tokio-curl", "urlencoding"]
search = ["curl", "futures", "tokio-core", "tokio-curl", "urlencoding", "open"]


[dependencies]
clap = {version = "2", features = ["color"]}
prettytable-rs = { version = "0.8.0", features = ["win_crlf"], default-features = false }
quick-error = "1.2.3"
structopt = "0.3.9"

serde_json = "1.0.45"
serde = "1.0.104"
serde_derive = "1.0.104"

parking_lot = { version = "0.10.0", optional = true }
crates-index-diff = { version = "5", optional = true }
git2 = { version = "0.11", optional = true }

open = { version = "1.3.3", optional = true }

curl = { version = "0.4.25", optional = true }
futures = { version = "0.1.7", optional = true }
tokio-core = { version = "0.1.2", optional = true }
tokio-curl = { version = "0.1.7", optional = true }
urlencoding = { version = "1.0.0", optional = true }

[target]

[target."cfg(unix)"]

[target."cfg(unix)".dependencies]
termion = "1.1.4"
